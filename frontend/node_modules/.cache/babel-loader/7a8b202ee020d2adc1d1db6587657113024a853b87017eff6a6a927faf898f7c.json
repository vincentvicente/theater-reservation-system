{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Layout,Typography,Card,Row,Col,message}from'antd';import{HomeOutlined}from'@ant-design/icons';import TheaterLayout from'./components/TheaterLayout';import ReservationForm from'./components/ReservationForm';import{theaterService}from'./services/theaterService';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Header,Content,Footer}=Layout;const{Title}=Typography;function App(){const[theater,setTheater]=useState(null);const[loading,setLoading]=useState(false);const[reservationResult,setReservationResult]=useState(null);useEffect(()=>{loadTheater();},[]);const loadTheater=async()=>{try{setLoading(true);const theaterData=await theaterService.getTheater();setTheater(theaterData);}catch(error){message.error('Failed to load theater data');console.error('Error loading theater:',error);}finally{setLoading(false);}};const handleReservation=async reservationData=>{try{setLoading(true);const result=await theaterService.reserveSeats(reservationData);setReservationResult(result);if(result.success){message.success(result.message);// Reload theater data to show updated seating\nawait loadTheater();}else{message.error(result.message);}}catch(error){message.error('Failed to process reservation');console.error('Error processing reservation:',error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Layout,{className:\"app-layout\",children:[/*#__PURE__*/_jsx(Header,{className:\"app-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header-content\",children:/*#__PURE__*/_jsxs(Title,{level:3,style:{color:'white',margin:0},children:[/*#__PURE__*/_jsx(HomeOutlined,{}),\" Theater Reservation System\"]})})}),/*#__PURE__*/_jsx(Content,{className:\"app-content\",children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:24,lg:16,children:/*#__PURE__*/_jsx(Card,{title:\"Theater Seating Layout\",loading:loading,children:theater&&/*#__PURE__*/_jsx(TheaterLayout,{theater:theater,onSeatClick:(row,seat)=>{console.log('Seat clicked:',row,seat);}})})}),/*#__PURE__*/_jsx(Col,{xs:24,lg:8,children:/*#__PURE__*/_jsxs(Card,{title:\"Make a Reservation\",children:[/*#__PURE__*/_jsx(ReservationForm,{onSubmit:handleReservation,loading:loading}),reservationResult&&/*#__PURE__*/_jsxs(Card,{size:\"small\",title:\"Reservation Result\",style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:reservationResult.success?'green':'red',fontWeight:'bold'},children:reservationResult.message}),reservationResult.rowInfo&&/*#__PURE__*/_jsx(\"p\",{children:reservationResult.rowInfo})]})]})})]})}),/*#__PURE__*/_jsx(Footer,{className:\"app-footer\",children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:\"Theater Reservation System \\xA92024 - Built with React + Spring Boot\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Layout","Typography","Card","Row","Col","message","HomeOutlined","TheaterLayout","ReservationForm","theaterService","jsx","_jsx","jsxs","_jsxs","Header","Content","Footer","Title","App","theater","setTheater","loading","setLoading","reservationResult","setReservationResult","loadTheater","theaterData","getTheater","error","console","handleReservation","reservationData","result","reserveSeats","success","className","children","level","style","color","margin","gutter","xs","lg","title","onSeatClick","row","seat","log","onSubmit","size","marginTop","fontWeight","rowInfo","textAlign"],"sources":["/Users/vicentezhu/Desktop/theater-reservation-system/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Layout, Typography, Card, Row, Col, message } from 'antd';\nimport { HomeOutlined } from '@ant-design/icons';\nimport TheaterLayout from './components/TheaterLayout';\nimport ReservationForm from './components/ReservationForm';\nimport { theaterService } from './services/theaterService';\nimport './App.css';\n\nconst { Header, Content, Footer } = Layout;\nconst { Title } = Typography;\n\nfunction App() {\n  const [theater, setTheater] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [reservationResult, setReservationResult] = useState(null);\n\n  useEffect(() => {\n    loadTheater();\n  }, []);\n\n  const loadTheater = async () => {\n    try {\n      setLoading(true);\n      const theaterData = await theaterService.getTheater();\n      setTheater(theaterData);\n    } catch (error) {\n      message.error('Failed to load theater data');\n      console.error('Error loading theater:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReservation = async (reservationData) => {\n    try {\n      setLoading(true);\n      const result = await theaterService.reserveSeats(reservationData);\n      setReservationResult(result);\n      \n      if (result.success) {\n        message.success(result.message);\n        // Reload theater data to show updated seating\n        await loadTheater();\n      } else {\n        message.error(result.message);\n      }\n    } catch (error) {\n      message.error('Failed to process reservation');\n      console.error('Error processing reservation:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Layout className=\"app-layout\">\n      <Header className=\"app-header\">\n        <div className=\"header-content\">\n          <Title level={3} style={{ color: 'white', margin: 0 }}>\n            <HomeOutlined /> Theater Reservation System\n          </Title>\n        </div>\n      </Header>\n      \n      <Content className=\"app-content\">\n        <Row gutter={[16, 16]}>\n          <Col xs={24} lg={16}>\n            <Card title=\"Theater Seating Layout\" loading={loading}>\n              {theater && (\n                <TheaterLayout \n                  theater={theater} \n                  onSeatClick={(row, seat) => {\n                    console.log('Seat clicked:', row, seat);\n                  }}\n                />\n              )}\n            </Card>\n          </Col>\n          \n          <Col xs={24} lg={8}>\n            <Card title=\"Make a Reservation\">\n              <ReservationForm \n                onSubmit={handleReservation}\n                loading={loading}\n              />\n              \n              {reservationResult && (\n                <Card \n                  size=\"small\" \n                  title=\"Reservation Result\"\n                  style={{ marginTop: 16 }}\n                >\n                  <p style={{ \n                    color: reservationResult.success ? 'green' : 'red',\n                    fontWeight: 'bold'\n                  }}>\n                    {reservationResult.message}\n                  </p>\n                  {reservationResult.rowInfo && (\n                    <p>{reservationResult.rowInfo}</p>\n                  )}\n                </Card>\n              )}\n            </Card>\n          </Col>\n        </Row>\n      </Content>\n      \n      <Footer className=\"app-footer\">\n        <div style={{ textAlign: 'center' }}>\n          Theater Reservation System Â©2024 - Built with React + Spring Boot\n        </div>\n      </Footer>\n    </Layout>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}